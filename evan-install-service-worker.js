importScripts('https://storage.googleapis.com/workbox-cdn/releases/4.3.1/workbox-sw.js');if (workbox) { console.log(`Workbox成功加载`); } else { console.log(`Workbox加载失败`); }workbox.routing.registerRoute(new RegExp('.*\.(?:js|css)'),workbox.strategies.cacheFirst({cacheName:'css&js-cache',plugins:[new workbox.cacheableResponse.Plugin({statuses:[0,200]}),new workbox.expiration.Plugin({maxEntries:200,maxAgeSeconds:7*24*60*60,})]}));workbox.routing.registerRoute(new RegExp('https://cravatar\.cn/avatar/'),workbox.strategies.cacheFirst({cacheName:'avatar-cache',plugins:[new workbox.cacheableResponse.Plugin({statuses:[0,200]}),new workbox.expiration.Plugin({maxEntries:200,maxAgeSeconds:30*24*60*60,})]}));workbox.routing.registerRoute(new RegExp('https://s0\.wp\.com/mshots/v1/'),workbox.strategies.cacheFirst({cacheName:'wp0-cache',plugins:[new workbox.cacheableResponse.Plugin({statuses:[0,200]}),new workbox.expiration.Plugin({maxEntries:200,maxAgeSeconds:7*24*60*60,})]}));workbox.routing.registerRoute(new RegExp('https://media\.st\.dl\.eccdnx\.com'),workbox.strategies.cacheFirst({cacheName:'steam-cache',plugins:[new workbox.cacheableResponse.Plugin({statuses:[0,200]}),new workbox.expiration.Plugin({maxEntries:1000,maxAgeSeconds:7*24*60*60,})]}));workbox.routing.registerRoute(new RegExp('.*\.(?:jpg|png|gif|apng|svg|webp)'),workbox.strategies.cacheFirst({cacheName:'image-cache',plugins:[new workbox.cacheableResponse.Plugin({statuses:[0,200]}),new workbox.expiration.Plugin({maxEntries:2000,maxAgeSeconds:7*24*60*60,})]}));workbox.routing.registerRoute(new RegExp('.*\.(?:mp4|m3u8|webm)'),workbox.strategies.cacheFirst({cacheName:'media-cache',plugins:[new workbox.cacheableResponse.Plugin({statuses:[0,200]}),new workbox.expiration.Plugin({maxEntries:100,maxAgeSeconds:7*24*60*60,})]}));